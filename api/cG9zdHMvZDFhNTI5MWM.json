{"title":"Butterfly主题更新总结","date":"2020-05-08T06:33:23.000Z","date_formatted":{"ll":"2020年5月8日","L":"2020/05/08","MM-DD":"05-08"},"link":"posts/d1a5291c","comments":true,"categories":["博客"],"updated":"2020-06-08T01:49:56.372Z","content":"<p class='div-border yellow'>本文仅记录一些看似无意义的小改动，你可以在本文 get：<br>\n1. 各种自定义样式的`路径`<br>\n2. 如何自定义字体和文字色块<br>\n3. 如何增加评分的小星星<br>\n4. 插件的总结等…<br>\n对于没学过任何 CSS 的我能改成这样实属不易，还望各位大佬指出我的错误~~并五星好评~~。</p><h2 id=\"修改主题，先装依赖\">修改主题，先装依赖<a href=\"#修改主题，先装依赖\" title=\"修改主题，先装依赖\"></a></h2><p>出现报错，未安装渲染依赖！<br><img src=\"https://cdn.jsdelivr.net/gh/xiabor/img/i/QQ%E6%88%AA%E5%9B%BE20200329182752.png\" class=\"φcy\" alt=\"未装依赖\"></p>\n<p>执行以下命令</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h2 id=\"菜单栏设置\">菜单栏设置<a href=\"#菜单栏设置\" title=\"菜单栏设置\"></a></h2><ol><li><p>新版本默认是中文，但是修改根目录配置文件的 language 为 zh-CN 之后，菜单栏会变回英文。直接修改主题配置文件 menu 为中文即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">menu:</span><br><span class=\"line\">  首页: &#x2F; || fa fa-home</span><br><span class=\"line\">  归档: &#x2F;archives&#x2F; || fa fa-archive</span><br><span class=\"line\">  标签: &#x2F;tags&#x2F; || fa fa-tags</span><br><span class=\"line\">  分类: &#x2F;categories&#x2F; || fa fa-list-ul</span><br><span class=\"line\">  友链: &#x2F;link&#x2F; || fa fa-cogs</span><br></pre></td></tr></table></figure></li>\n<li><p>首页留空表示跳转起始页，若加上 <code>/home/</code> 则为新页面，类似分类标签页</p>\n</li>\n<li><p>菜单栏跳转外链，去掉 <code>/</code> 直接写链接即可</p>\n</li>\n</ol><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">云盘 || http:&#x2F;&#x2F;kd.xiabor.com || fa fa-mixcloud</span><br></pre></td></tr></table></figure><h2 id=\"文章主页描述\">文章主页描述<a href=\"#文章主页描述\" title=\"文章主页描述\"></a></h2><p>关闭自动节选，才能在 Page Front-matter 中添加 description</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 自動節選</span><br><span class=\"line\">auto_excerpt:</span><br><span class=\"line\">  enable: false</span><br><span class=\"line\">  length: 150</span><br></pre></td></tr></table></figure><h2 id=\"代码高亮及自动换行\">代码高亮及自动换行<a href=\"#代码高亮及自动换行\" title=\"代码高亮及自动换行\"></a></h2><ul><li><p>代码高亮试了其他的插件，Mac Pannel 样式等，调来调去还不如默认的，索性不改了</p>\n</li>\n<li><p>打开自动换行<code>code_word_wrap: true</code>，根目录下配置文件_config.yml，將 line_number 改成 false:</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">highlight:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  line_number: false</span><br><span class=\"line\">  auto_detect: false</span><br><span class=\"line\">  tab_replace:</span><br></pre></td></tr></table></figure><p>事实证明，代码换行在移动端很不舒服，还是关掉吧。</p>\n</li>\n</ul><h2 id=\"主题美化\">主题美化<a href=\"#主题美化\" title=\"主题美化\"></a></h2><ul><li>取消主题配置文件 <code>theme_color</code> 的注释</li>\n<li>自定义主色调为浅绿，设置 footer 显示图片背景与 top_img 一致。</li>\n<li>推荐文章设置 <code>limit: 3</code></li>\n<li>打开图片文字描述 <code>photofigcaption: true</code></li>\n<li>设置评论区打字冒光和抖动效果，<code>activate_power_mode: true</code></li>\n<li>鼠标点击出现爱心 <code>click_heart: true</code></li>\n<li>美化页面展示，修改标题前图标为闪电 <code>title-prefix-icon:&#39;\\f0e7&#39;</code>，颜色为黄色 <code>title-prefix-icon-color: &quot;#ffb821&quot;</code></li>\n<li>主页调用金山词霸的每日一句打字效果，需注意的是：自定义副标题 sub 的时候，符号必须用 ASCII 码表示，常用的逗号为 <code>,</code> 句号为 <code>.</code> 双引号为 <code>&quot;</code> 英文缩写符号为 <code>&#39;</code></li>\n<li>打开 snackbar 弹窗并设置底部居中 <code>position: bottom-center</code></li>\n<li>打开中英文之间添加空格 <code>pangu: true</code></li>\n</ul><p class='div-border green'>至此主题配置文件在不装插件前提下算是修改完毕了，明天继续折腾插件和 css 样式。眼睛疼，睡了</p><h2 id=\"自定义样式\">自定义样式<a href=\"#自定义样式\" title=\"自定义样式\"></a></h2><ol><li><p>修改菜单字体大小为 18，修改鼠标悬停时颜色为主色调浅绿。</p>\n<ul><li>在路径 <code>D:\\blog\\themes\\Butterfly\\source\\css\\_layout\\head.styl</code> 下查找.site-page，设置 font-size 为.7rem</li>\n<li>在此目录下 <code>D:\\blog\\themes\\Butterfly\\source\\css\\var.styl</code> 新增自定义颜色值 <code>$laurel-green = #9fefaf</code>，在路径<br>下修改 <code>&amp;:hover: $laurel-green</code><br>hexo clean &amp;&amp; hexo s 查看效果</li>\n</ul></li>\n<li><p>由于菜单打开子菜单是悬停后选中，鼠标移开子菜单便关闭。导致鼠标如果不是从主菜单近乎垂直往下滑就无法点击子菜单。（改动意义似乎不大）自定义修改参考旧版本如下：路径 <code>D:\\blog\\themes\\Butterfly\\source\\css\\var.styl</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.menus_item_child</span><br><span class=\"line\">        position: absolute</span><br><span class=\"line\">        right: 0</span><br><span class=\"line\">        display: none</span><br><span class=\"line\">        margin-top: 8px</span><br><span class=\"line\">        padding: 0</span><br><span class=\"line\">        border-radius: 5px</span><br><span class=\"line\">        width: max-content</span><br><span class=\"line\">        background-color: alpha($white, .8)</span><br><span class=\"line\">        box-shadow: 0 5px 20px -4px rgba($dark-black, .5)</span><br><span class=\"line\">        animation: sub_menus .3s .1s ease both</span><br><span class=\"line\"></span><br><span class=\"line\">        &amp;:before</span><br><span class=\"line\">          position: absolute</span><br><span class=\"line\">          top: -55px</span><br><span class=\"line\">          left: 50%</span><br><span class=\"line\">          width: 0</span><br><span class=\"line\">          height: 21px</span><br><span class=\"line\">          content: &#39;&#39;</span><br><span class=\"line\">          margin-left: -18px</span><br><span class=\"line\">          border-width: 18px</span><br><span class=\"line\">          border-style: solid</span><br><span class=\"line\">          border-color: transparent transparent rgba($white 0.8)</span><br></pre></td></tr></table></figure></li>\n<li><p>主页文章区域，路径均为 <code>D:\\blog\\themes\\Butterfly\\source\\css\\_layout\\pagination.styl</code></p>\n<ul><li><p>外圆角修改为 5px，且图片与描述圆角为 3px</p>\n</li>\n<li><p>主页文章描述修改，增加描述区域高度，标题距离描述适当增加，字体由 1.2 调整至 1rem</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&amp; &gt;.recent-post-info</span><br><span class=\"line\">  display: inline-block</span><br><span class=\"line\">  overflow: hidden</span><br><span class=\"line\">  padding: 50px 40px</span><br><span class=\"line\">  width: 55%</span><br><span class=\"line\"></span><br><span class=\"line\">  &amp; &gt; .article-title</span><br><span class=\"line\">    display: -webkit-box</span><br><span class=\"line\">    overflow: hidden</span><br><span class=\"line\">    margin-bottom: 1.2rem</span><br><span class=\"line\">    color: $font-black</span><br><span class=\"line\">    text-overflow: ellipsis</span><br><span class=\"line\">    word-wrap: break-word</span><br><span class=\"line\">    font-size: 1.2rem</span><br><span class=\"line\">    line-height: 1.5</span><br><span class=\"line\">    transition: all .2s ease-in-out</span><br><span class=\"line\">    -webkit-box-orient: vertical</span><br><span class=\"line\">    -webkit-line-clamp: 2</span><br></pre></td></tr></table></figure></li>\n<li><p>描述文字可能较多，因此调整溢出方式为 scroll</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">display: -webkit-box</span><br><span class=\"line\">overflow: scroll</span><br><span class=\"line\">margin-top: .2rem</span><br><span class=\"line\">height: 97px</span><br><span class=\"line\">word-break: break-word</span><br><span class=\"line\">-webkit-line-clamp: 3</span><br><span class=\"line\">-webkit-box-orient: vertical</span><br></pre></td></tr></table></figure></li>\n<li><p>并适当降低侧栏滚动条宽度，-webkit-scrollbar 路径为 <code>D:\\blog\\themes\\Butterfly\\source\\css\\_global\\index.styl</code></p>\n</li>\n<li><ul><li><p>调整分类和发表时间字体大小为 80%，路径<code>D:\\blog\\themes\\Butterfly\\source\\css\\_layout\\page.styl</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&amp; &gt; .article-meta-wrap</span><br><span class=\"line\">      font-size: 80%</span><br></pre></td></tr></table></figure></li>\n</ul></li>\n</ul></li>\n<li><p>调整移动端主页文章区域边距 5px 为 0.75rem，调整移动端描述字体大小为 0.6rem</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@media screen and (max-width: $sm)</span><br><span class=\"line\">    .layout_page</span><br><span class=\"line\">      padding: 1rem 0.75rem !important</span><br><span class=\"line\"></span><br><span class=\"line\">      .content</span><br><span class=\"line\">        height: auto</span><br><span class=\"line\">        font-size: 0.6rem</span><br></pre></td></tr></table></figure></li>\n<li><p>既然要圆润，那就全部都要圆润。调整页码圆角，算了，直接改成圆形。路径为 <code>D:\\blog\\themes\\Butterfly\\source\\css\\_layout\\pagination.styl</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.page-number</span><br><span class=\"line\">  display: inline-block</span><br><span class=\"line\">  margin: 0 .2rem</span><br><span class=\"line\">  min-width: w &#x3D; 1.5rem</span><br><span class=\"line\">  height: w</span><br><span class=\"line\">  text-align: center</span><br><span class=\"line\">  line-height: w</span><br><span class=\"line\">  cursor: pointer</span><br><span class=\"line\"></span><br><span class=\"line\">&amp;.current</span><br><span class=\"line\">  background: $theme-color</span><br><span class=\"line\">  color: $button-color</span><br><span class=\"line\">  cursor: default</span><br><span class=\"line\">  border-radius: 20px</span><br></pre></td></tr></table></figure></li>\n<li><p>调整页脚高度，去除驱动和主题描述，，修改 By 字母为红色爱心。</p>\n<ul><li><p>在路径<code>D:\\blog\\themes\\Butterfly\\layout\\includes\\footer.pug</code>下，将 By 替换为以下内容</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;i style&#x3D;&quot;color:#FF6A6A&quot; class&#x3D;&quot;fa fa-heartbeat&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure></li>\n<li><p>同一路径下，删除以下内容，便可以去除驱动和主题描述，也可以按照以下格式添加自定义内容</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.framework-info</span><br><span class=\"line\">  span&#x3D; _p(&#39;footer.driven&#39;) + &#39; &#39;</span><br><span class=\"line\">  a(href&#x3D;&#39;https:&#x2F;&#x2F;hexo.io&#39;)</span><br><span class=\"line\">    span Hexo</span><br><span class=\"line\">  span.footer-separator |</span><br><span class=\"line\">  span&#x3D; _p(&#39;footer.theme&#39;) + &#39; &#39;</span><br><span class=\"line\">  a(href&#x3D;&#39;https:&#x2F;&#x2F;github.com&#x2F;jerryc127&#x2F;hexo-theme-butterfly&#39;)</span><br><span class=\"line\">    span Butterfly</span><br></pre></td></tr></table></figure></li>\n<li><p>利用 PS 修改 ICP 图标大小为 18x18，头像，图标，加载动画等在 <code>D:\\blog\\themes\\Butterfly\\source\\img</code> 中可替换。</p>\n</li>\n</ul></li>\n<li><p>修改侧栏设置及返回顶部按钮</p>\n<ul><li><p>在路径<code>D:\\blog\\themes\\Butterfly\\source\\css\\_layout\\rightside.styl</code>下加大按钮高宽度并设置圆角，调整间距，使设置按钮的子菜单不打开状态隐藏到最右侧不可见。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#rightside</span><br><span class=\"line\">  position: fixed</span><br><span class=\"line\">  right: -38px</span><br><span class=\"line\">  bottom: 10px</span><br><span class=\"line\">  opacity: 0</span><br><span class=\"line\">  transition: all .3s</span><br><span class=\"line\"></span><br><span class=\"line\">  #rightside-config-hide</span><br><span class=\"line\">    transform: translate(40px, 0)</span><br><span class=\"line\">&amp; &gt; div</span><br><span class=\"line\">  &amp; &gt; i,</span><br><span class=\"line\">  &amp; &gt; a,</span><br><span class=\"line\">  &amp; &gt; div</span><br><span class=\"line\">    display: block</span><br><span class=\"line\">    margin-bottom: 2px</span><br><span class=\"line\">    width: 36px</span><br><span class=\"line\">    height: 36px</span><br><span class=\"line\">    background-color: $light-blue</span><br><span class=\"line\">    color: $button-color</span><br><span class=\"line\">    text-align: center</span><br><span class=\"line\">    font-size: 16px</span><br><span class=\"line\">    line-height: 35px</span><br><span class=\"line\">    margin-bottom: 4px</span><br><span class=\"line\">    margin-right: 4px</span><br><span class=\"line\">    cursor: pointer</span><br><span class=\"line\">    border-radius: 3px</span><br></pre></td></tr></table></figure></li>\n</ul></li>\n<li><p>文章目录美化</p>\n<ul><li><p>调整左侧边距 0.5rem 为 2rem</p>\n</li>\n<li><p>选择某一目录时，背景框宽度为最大且为方形，修改选中时边框为圆润且适应标题长度，路径<code>D:\\blog\\themes\\Butterfly\\source\\css\\_layout\\sidebar.styl</code>下修改或增加以下内容</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.toc-link</span><br><span class=\"line\"></span><br><span class=\"line\">  &amp;.active</span><br><span class=\"line\">    border-right-color: darken($theme-toc-color, 20%)</span><br><span class=\"line\">    background: $theme-toc-color</span><br><span class=\"line\">    color: $sidebar-active-color</span><br><span class=\"line\">    border-radius: 5px</span><br><span class=\"line\">    width: max-content</span><br><span class=\"line\">    padding-right: 5px</span><br><span class=\"line\">    padding-left: 5px</span><br></pre></td></tr></table></figure></li>\n</ul></li>\n<li><p>打赏按钮美化，设置圆角并修改颜色，调整赞赏码大小确保能扫描成功</p>\n<ul><li>路径 <code>D:\\blog\\themes\\Butterfly\\source\\css\\_layout\\reward.styl</code> 下修改赞赏码大小，默认 130，扫描可能无法识别，建议 200。</li>\n</ul></li>\n<li><p>修改底部标签边框和字体为黑色，调整大小。底部版权声明增加 1px 边框</p>\n<ul><li><p>路径 <code>D:\\blog\\themes\\Butterfly\\source\\css\\_layout\\post.styl</code> 下修改以下内容</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&amp;__tags</span><br><span class=\"line\">   display: inline-block</span><br><span class=\"line\">   margin: .4rem .4rem .4rem 0</span><br><span class=\"line\">   padding: 0 .6rem</span><br><span class=\"line\">   width: fit-content</span><br><span class=\"line\">   border: 2px solid $font-black</span><br><span class=\"line\">   border-radius: .2rem</span><br><span class=\"line\">   color: $font-black</span><br><span class=\"line\">   font-size: 14px</span><br><span class=\"line\">   text-decoration: overline</span><br><span class=\"line\">   cursor: pointer</span><br><span class=\"line\">   transition: all .2s ease-in-out</span><br><span class=\"line\"> </span><br><span class=\"line\"> .post-copyright</span><br><span class=\"line\">   position: relative</span><br><span class=\"line\">   margin: 2rem 0 .5rem</span><br><span class=\"line\">   padding: .5rem .8rem</span><br><span class=\"line\">   border: 1px solid $dark-white</span><br><span class=\"line\">   transition: box-shadow .3s ease-in-out</span><br><span class=\"line\">   border-radius: 5px</span><br><span class=\"line\"></span><br><span class=\"line\">   .post-copyright</span><br><span class=\"line\">     &amp;-meta</span><br><span class=\"line\">       color: $grey</span><br><span class=\"line\">       font-weight: bold</span><br></pre></td></tr></table></figure></li>\n<li><p>提到版权申明，修改默认的灰色链接的颜色为蓝色。可以先在 <code>D:\\blog\\themes\\Butterfly\\source\\css\\var.styl</code> 里添加自定义颜色，再去 <code>post.styl</code> 里修改，或者直接修改链接颜色为蓝色。修改其他自定义颜色的方法亦是如此。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">$a-link-color &#x3D; #638fff</span><br></pre></td></tr></table></figure><h3 id=\"版权声明\">版权声明<a href=\"#版权声明\" title=\"版权声明\"></a></h3></li>\n</ul><blockquote>\n<p>文章作者: xx</p>\n<p>文章链接: <a href=\"https://xxx/\" target=\"_blank\">https://xxx</a></p>\n<p>版权声明：本博客所有文章除特别声明外，均采用 CC BY-NC-SA 4.0 许可协议。</p>\n</blockquote>\n<p>点击这部分的<code>文章作者</code>出现 <code>mailto:undefined</code>，查看 copyright.pug 文件发现 email 需要在根目录 config.yml 下自定义<br><img src=\"https://cdn.jsdelivr.net/gh/xiabor/img/i/7f6213807fa3b5ba.png\" class=\"φcy\" alt=\"email\"></p>\n<p>因此在<strong>根目录</strong> config.yml 下添加即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">email: xxxx@xxx.com</span><br></pre></td></tr></table></figure></li>\n</ol><h2 id=\"rating-评分\">Rating 评分<a href=\"#rating-评分\" title=\"Rating 评分\"></a></h2><p>评价文章打字麻烦？那就用小星星吧，直接给文章打分。效果如下：<br><img src=\"https://cdn.jsdelivr.net/gh/xiabor/img/i/Snipaste_2020-04-07_21-19-01.png\" class=\"φcy\" alt=\"Rating评分效果\"></p>\n<ul><li>配置教程：参考学姐的<a href=\"https://cungudafa.top/post/f75f.html\" target=\"_blank\">添加 Rating 投票功能</a></li>\n<li>官网传送门：<a href=\"https://widgetpack.com/\" target=\"_blank\">widgetpack.com</a></li>\n</ul><p>由于 butterfly 主题和 next、Sakura 等主题文件结构不同，所以详细记录本主题的配置：</p>\n<ol><li><p>注册完 Widgetpack 选择 Rating 可以拿到一段代码如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;div id&#x3D;&quot;wpac-rating&quot;&gt;&lt;&#x2F;div&gt;</span><br><span class=\"line\">  &lt;script type&#x3D;&quot;text&#x2F;javascript&quot;&gt;</span><br><span class=\"line\">  wpac_init &#x3D; window.wpac_init || [];</span><br><span class=\"line\">  wpac_init.push(&#123;widget: &#39;Rating&#39;, id: 你的IDxxx&#125;);</span><br><span class=\"line\">  (function() &#123;</span><br><span class=\"line\">      if (&#39;WIDGETPACK_LOADED&#39; in window) return;</span><br><span class=\"line\">      WIDGETPACK_LOADED &#x3D; true;</span><br><span class=\"line\">      var mc &#x3D; document.createElement(&#39;script&#39;);</span><br><span class=\"line\">      mc.type &#x3D; &#39;text&#x2F;javascript&#39;;</span><br><span class=\"line\">      mc.async &#x3D; true;</span><br><span class=\"line\">      mc.src &#x3D; &#39;https:&#x2F;&#x2F;embed.widgetpack.com&#x2F;widget.js&#39;;</span><br><span class=\"line\">      var s &#x3D; document.getElementsByTagName(&#39;script&#39;)[0]; s.parentNode.insertBefore(mc, s.nextSibling);</span><br><span class=\"line\">  &#125;)();</span><br><span class=\"line\">  &lt;&#x2F;script&gt;</span><br><span class=\"line\">  &lt;a href&#x3D;&quot;https:&#x2F;&#x2F;widgetpack.com&quot; class&#x3D;&quot;wpac-cr&quot;&gt;Star Rating WIDGET PACK&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure><p>利用在线转化将其转为<code>.pug</code> 格式，并增加点小改动，使其居中。<strong>创建</strong>并放入目录 <code>D:\\blog\\themes\\Butterfly\\layout\\includes\\addons\\rating.pub</code> 中</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">html</span><br><span class=\"line\">body</span><br><span class=\"line\">  #wpac-rating(align&#x3D;&quot;center&quot;)</span><br><span class=\"line\">  script(type&#x3D;&quot;text&#x2F;javascript&quot;).</span><br><span class=\"line\">    wpac_init &#x3D; window.wpac_init || [];</span><br><span class=\"line\">    wpac_init.push(&#123;widget: &#39;Rating&#39;, id: 你的ID&#125;); </span><br><span class=\"line\">    (function() &#123;</span><br><span class=\"line\">    if (&#39;WIDGETPACK_LOADED&#39; in window) return;</span><br><span class=\"line\">    WIDGETPACK_LOADED &#x3D; true;</span><br><span class=\"line\">    var mc &#x3D; document.createElement(&#39;script&#39;);</span><br><span class=\"line\">    mc.type &#x3D; &#39;text&#x2F;javascript&#39;;</span><br><span class=\"line\">    mc.async &#x3D; true;</span><br><span class=\"line\">    mc.src &#x3D; &#39;https:&#x2F;&#x2F;embed.widgetpack.com&#x2F;widget.js&#39;;</span><br><span class=\"line\">    var s &#x3D; document.getElementsByTagName(&#39;script&#39;)[0]; s.parentNode.insertBefore(mc, s.nextSibling);</span><br><span class=\"line\">    &#125;)();</span><br><span class=\"line\">  #copy(align&#x3D;&quot;center&quot;)</span><br><span class=\"line\">    | ღ喜欢记得五星好评哦~</span><br></pre></td></tr></table></figure></li>\n<li><p>在合适位置引入评分，例如我的：（置于赞赏的上面）</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if theme.rating.enable</span><br><span class=\"line\">  include includes&#x2F;addons&#x2F;rating.pug</span><br><span class=\"line\">&#x2F;&#x2F;-加入以上代码，下面为赞赏    </span><br><span class=\"line\">if theme.reward.enable</span><br><span class=\"line\">  !&#x3D;partial(&#39;includes&#x2F;post&#x2F;reward&#39;, &#123;&#125;, &#123;cache:theme.fragment_cache&#125;)</span><br></pre></td></tr></table></figure></li>\n<li><p>最后，在主题配置文件设置是否打开该功能，星星颜色在 <a href=\"https://widgetpack.com/\" target=\"_blank\">widgetpack.com</a> 修改</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># Star rating support to each article.</span><br><span class=\"line\"># To get your ID visit https:&#x2F;&#x2F;widgetpack.com</span><br><span class=\"line\">rating: </span><br><span class=\"line\">  enable: true</span><br></pre></td></tr></table></figure></li>\n<li><blockquote>\n<p>特别提示：<br>设置投票记录方式，有三种可选，国内最好选择 IP Address 记录。另外，<a href=\"https://widgetpack.com/\" target=\"_blank\">widgetpack.com</a> 只能绑定一个域名，但可以随时更换</p>\n</blockquote>\n</li>\n<li><p>特别鸣谢 @<a href=\"https://bili33.top/\" target=\"_blank\">GamerNoTitle</a>，一提需求，立马奋笔疾书教我配置小星星。还回来看我文章并指出错误，佩服大佬的细心与热心。</p>\n</li>\n</ol><h2 id=\"自动切换夜间模式时间\">自动切换夜间模式时间<a href=\"#自动切换夜间模式时间\" title=\"自动切换夜间模式时间\"></a></h2><ul><li>修改夜间模式自动切换时间为晚上 21 点至早晨 7 点，路径 <code>D:\\blog\\themes\\Butterfly\\layout\\includes\\head</code>，修改时注意格式不变</li>\n</ul><h2 id=\"移动端优化\">移动端优化<a href=\"#移动端优化\" title=\"移动端优化\"></a></h2><ul><li><p>PC 端分类归档标签等是显示在右侧，移动端则在底部，与侧栏重复，因此去除分类标签归档个人信息，只保留网站统计。将以下代码添加进任意<code>.styl</code>文件里即可。效果如图（补充：调整移动端底部网站资讯字体大小为 13px）</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@media screen and (max-width: $sm)</span><br><span class=\"line\">  #aside_content</span><br><span class=\"line\">    div:not(:last-child)</span><br><span class=\"line\">      display: none</span><br><span class=\"line\">      font-size: 13px</span><br></pre></td></tr></table></figure></li>\n</ul><p><img src=\"https://cdn.jsdelivr.net/gh/xiabor/img/i/HiShoot01.png\" class=\"φcy\" alt=\"移动端效果图\"></p>\n<ul><li>手机端侧栏美化，缩小头像及菜单间距。路径 <code>D:\\blog\\themes\\Butterfly\\source\\css\\mobile-sidebar.styl</code> 下自行调整</li>\n<li>在路径 <code>post.styl</code> 下调整移动端<code>.post_cover</code> 圆角为 5px</li>\n</ul><h3 id=\"调整移动端文章字体大小\">调整移动端文章字体大小<a href=\"#调整移动端文章字体大小\" title=\"调整移动端文章字体大小\"></a></h3><ul><li><p>在<code>D:\\blog\\themes\\Butterfly\\source\\css\\var.styl</code>下自定义一个字体大小值，例如：<code>$font-media-size = 13px</code>，然后在<code>D:\\anewblog\\themes\\Butterfly\\source\\css\\_global\\index.styl</code>增加以下内容</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@media screen and (max-width: $sm)</span><br><span class=\"line\">body</span><br><span class=\"line\">    font-size: $font-media-size &#x3D; 13px</span><br></pre></td></tr></table></figure></li>\n</ul><h2 id=\"侧栏自定义\">侧栏自定义<a href=\"#侧栏自定义\" title=\"侧栏自定义\"></a></h2><ul><li><p>加入书签按钮设置圆角<code>aside.styl</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#bookmark-it</span><br><span class=\"line\">  position: relative</span><br><span class=\"line\">  z-index: 1</span><br><span class=\"line\">  display: block</span><br><span class=\"line\">  background-color: $light-blue</span><br><span class=\"line\">  color: $button-color</span><br><span class=\"line\">  text-transform: uppercase</span><br><span class=\"line\">  line-height: 1.6rem</span><br><span class=\"line\">  border-radius: 5px</span><br></pre></td></tr></table></figure></li>\n<li><p>顺便设置选中时的圆角<code>D:\\blog\\themes\\Butterfly\\source\\css\\_global\\index.styl</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.button--animated</span><br><span class=\"line\">  transition-duration: 1s</span><br><span class=\"line\">  transition-property: color</span><br><span class=\"line\"></span><br><span class=\"line\">  &amp;:before</span><br><span class=\"line\">    position: absolute</span><br><span class=\"line\">    top: 0</span><br><span class=\"line\">    right: 0</span><br><span class=\"line\">    bottom: 0</span><br><span class=\"line\">    left: 0</span><br><span class=\"line\">    z-index: -1</span><br><span class=\"line\">    border-radius: 5px</span><br></pre></td></tr></table></figure></li>\n<li><p>修改某些名称，例如网站资讯的名称在 <code>D:\\blog\\themes\\Butterfly\\languages\\zh-CN</code> 下修改即可</p>\n</li>\n</ul><h2 id=\"自定义字体，图标\">自定义字体，图标<a href=\"#自定义字体，图标\" title=\"自定义字体，图标\"></a></h2><h3 id=\"引用外部字体和鼠标样式\">引用外部字体和鼠标样式<a href=\"#引用外部字体和鼠标样式\" title=\"引用外部字体和鼠标样式\"></a></h3><ol><li><p>引用格式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">@font-face &#123; font-family:MyFont;</span><br><span class=\"line\">src: url(https:xxx)&#125;</span><br><span class=\"line\">body&#123;font-family:MyFont!important;&#125;</span><br></pre></td></tr></table></figure></li>\n<li><p>引用方法：<br>将引用代码添加到 <code>D:\\blog\\themes\\Butterfly\\source\\css\\_third-party\\normalize.min.css</code> 末尾即可，鼠标样式亦是如此。</p>\n</li>\n</ol><h3 id=\"鼠标样式\">鼠标样式<a href=\"#鼠标样式\" title=\"鼠标样式\"></a></h3><ol><li><p>引用格式</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">body &#123; cursor: url(https:&#x2F;&#x2F;xxx.png),default;&#125;</span><br><span class=\"line\">a:hover &#123; cursor: url(https:&#x2F;&#x2F;xxx.png),pointer;&#125;</span><br></pre></td></tr></table></figure></li>\n</ol><h3 id=\"修改图标\">修改图标<a href=\"#修改图标\" title=\"修改图标\"></a></h3><ol><li><p>可直接使用 Font Awesome 的图标。地址：<a href=\"https://fontawesome.dashgame.com/\" target=\"_blank\">Font Awesome</a></p>\n</li>\n<li><p>在路径 <code>D:\\anewblog\\themes\\Butterfly\\layout\\includes\\mixins\\UI.pug</code><strong>不对等我找找。</strong>第二天找到了正确的路径为 <code>D:\\anewblog\\themes\\Butterfly\\layout\\includes\\header</code> 可修改文章内头部（发表、更新、分类等）图标。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#post-meta</span><br><span class=\"line\">  .meta-firstline</span><br><span class=\"line\">    if (theme.post_meta.post.date_type)</span><br><span class=\"line\">      if (theme.post_meta.post.date_type &#x3D;&#x3D;&#x3D; &#39;both&#39;)</span><br><span class=\"line\">        time.post-meta__date</span><br><span class=\"line\">          span.post-meta__date-created(title&#x3D; _p(&#39;post.created&#39;)+&#39; &#39;+full_date(page.date))</span><br><span class=\"line\">            i.fa.fa-pencil(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class=\"line\">            &#x3D;&#39; &#39;+_p(&#39;post.created&#39;)+&#39; &#39;+date(page.date, config.date_format)</span><br><span class=\"line\">          span.post-meta__separator |</span><br><span class=\"line\">          span.post-meta__date-updated(title&#x3D; _p(&#39;post.updated&#39;)+&#39; &#39;+full_date(page.updated))</span><br><span class=\"line\">            i.fa.fa-wrench(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class=\"line\">            &#x3D;&#39; &#39;+_p(&#39;post.updated&#39;)+&#39; &#39;+date(page.updated, config.date_format)</span><br><span class=\"line\">      else</span><br><span class=\"line\">        - var data_type_update &#x3D; theme.post_meta.post.date_type &#x3D;&#x3D;&#x3D; &#39;updated&#39;</span><br><span class=\"line\">        - var date_type &#x3D; data_type_update ? &#39;updated&#39; : &#39;date&#39;</span><br><span class=\"line\">        - var date_icon &#x3D; data_type_update ? &#39;fa-wrench&#39; :&#39;fa-pencil&#39;</span><br></pre></td></tr></table></figure></li>\n<li><p>修改主页文章的分类和发表时间图标，在路径 <code>D:\\anewblog\\themes\\Butterfly\\layout\\includes</code> 下修改即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if (theme.post_meta.page.date_type)</span><br><span class=\"line\">      if (theme.post_meta.page.date_type &#x3D;&#x3D;&#x3D; &#39;both&#39;)</span><br><span class=\"line\">        time.post-meta__date</span><br><span class=\"line\">          span.post-meta__date-created(title&#x3D;_p(&#39;post.created&#39;) + &#39; &#39; + full_date(article.date))</span><br><span class=\"line\">            i.fa.fa-pencil(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class=\"line\">            &#x3D;date(article.date, config.date_format)</span><br><span class=\"line\">          span.article-meta__separator |</span><br><span class=\"line\">          span.post-meta__date-updated(title&#x3D;_p(&#39;post.updated&#39;) + &#39; &#39; + full_date(article.updated))</span><br><span class=\"line\">            i.fa.fa-wrench(aria-hidden&#x3D;&quot;true&quot;)</span><br><span class=\"line\">            &#x3D;date(article.updated, config.date_format)</span><br><span class=\"line\">      else</span><br><span class=\"line\">        - var data_type_updated &#x3D; theme.post_meta.page.date_type &#x3D;&#x3D;&#x3D; &#39;updated&#39;</span><br><span class=\"line\">        - var date_type &#x3D; data_type_updated ? &#39;updated&#39; : &#39;date&#39;</span><br><span class=\"line\">        - var date_icon &#x3D; data_type_updated ? &#39;fa-wrench&#39; :&#39;fa-pencil&#39;</span><br><span class=\"line\">        - var date_title &#x3D; data_type_updated ? _p(&#39;post.updated&#39;) : _p(&#39;post.created&#39;)</span><br><span class=\"line\">        time.post-meta__date(title&#x3D;date_title + &#39; &#39; + full_date(article[date_type]))</span><br></pre></td></tr></table></figure></li>\n<li><p>例如<strong>修改主页底部向下箭头为双箭头</strong>，先去 <a href=\"https://fontawesome.dashgame.com/\" target=\"_blank\">Font Awesome</a> 找到合适的图标，新版在路径 <code>D:\\blog\\themes\\Butterfly\\layout\\includes\\header\\index.pug</code> 的末尾修改</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.scroll-down</span><br><span class=\"line\">  i.fa.fa-angle-double-down.scroll-down-effects</span><br></pre></td></tr></table></figure><p>旧版在路径 <code>H:\\blog\\themes\\Butterfly\\layout\\includes\\nav.pug</code> 下修改</p>\n</li>\n<li><p>文章内引用图标，格式如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;i class&#x3D;&quot;fa fa-plane&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure></li>\n</ol><h2 id=\"插件总结\">插件总结<a href=\"#插件总结\" title=\"插件总结\"></a></h2><h3 id=\"搜索插件\">搜索插件<a href=\"#搜索插件\" title=\"搜索插件\"></a></h3><ul><li><p>采用本地搜索，安装插件 <a href=\"https://github.com/wzpan/hexo-generator-search\" target=\"_blank\">hexo-generator-search</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-generator-search --save</span><br></pre></td></tr></table></figure></li>\n<li><p>根目录配置文件添加以下内容，打开主题配置文件 <code>local_search</code> 即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">search:</span><br><span class=\"line\">  path: search.xml</span><br><span class=\"line\">  field: post</span><br><span class=\"line\">  content: true</span><br></pre></td></tr></table></figure><h3 id=\"字数统计\">字数统计<a href=\"#字数统计\" title=\"字数统计\"></a></h3><ul><li><p>安装统计插件，主题配置文件打开 <code>wordcount</code> 即可</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-wordcount --save</span><br></pre></td></tr></table></figure><h3 id=\"音乐电影豆瓣插件\">音乐电影豆瓣插件<a href=\"#音乐电影豆瓣插件\" title=\"音乐电影豆瓣插件\"></a></h3></li>\n<li><p>安装 <a href=\"https://github.com/mythsman/hexo-douban\" target=\"_blank\">hexo-douban</a> 插件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-douban --save</span><br></pre></td></tr></table></figure></li>\n<li><p>并将以下内容加入根目录配置文件，<code>hexo douban</code> 命令进行初始化</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">douban:</span><br><span class=\"line\">  user: mythsman</span><br><span class=\"line\">  builtin: false</span><br><span class=\"line\">  book:</span><br><span class=\"line\">    title: &#39;This is my book title&#39;</span><br><span class=\"line\">    quote: &#39;This is my book quote&#39;</span><br><span class=\"line\">  movie:</span><br><span class=\"line\">    title: &#39;This is my movie title&#39;</span><br><span class=\"line\">    quote: &#39;This is my movie quote&#39;</span><br><span class=\"line\">  game:</span><br><span class=\"line\">    title: &#39;This is my game title&#39;</span><br><span class=\"line\">    quote: &#39;This is my game quote&#39;</span><br><span class=\"line\">  timeout: 10000</span><br></pre></td></tr></table></figure></li>\n</ul></li>\n</ul><h3 id=\"播放器插件\">播放器插件<a href=\"#播放器插件\" title=\"播放器插件\"></a></h3><ul><li><p>在 Hexo 页面中嵌入<br><a href=\"https://github.com/MoePlayer/hexo-tag-aplayer\" target=\"_blank\">APlayer 播放器</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure></li>\n<li><p>用法：参数选项详见 <a href=\"https://github.com/MoePlayer/hexo-tag-aplayer\" target=\"_blank\">APlayer</a></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;</span><br></pre></td></tr></table></figure></li>\n</ul><h3 id=\"部署插件\">部署插件<a href=\"#部署插件\" title=\"部署插件\"></a></h3><ul><li><p>安装安装 hexo-deployer-git, 填写仓库就可以部署至网络世界啦</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure></li>\n</ul><h3 id=\"置顶插件\">置顶插件<a href=\"#置顶插件\" title=\"置顶插件\"></a></h3><blockquote>\n<p>文章置顶</p>\n</blockquote>\n<p>要为文章置顶，你需要安装插件(<code>hexo-generator-index-pin-top</code> 或者 <code>hexo-generator-indexed</code>)，记得先卸载掉<code>hexo-generator-index</code></p>\n<p>如果使用<code>hexo-generator-index-pin-top</code>, 在文章的front-matter区域里添加<code>top: true</code>属性来把这篇文章置顶</p>\n<p>如果使用<code>hexo-generator-indexed</code>, 在文章的<code>front-matter</code>区域里添加<code>sticky: 1</code>属性来把这篇文章置顶。数值越大，置顶的优先级越大</p>\n<p class='div-border grey'>方法1</p>\n- 卸载替换置顶插件\n  <figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm uninstall hexo-generator-index --save </span><br><span class=\"line\">npm install hexo-generator-index-pin-top --save</span><br></pre></td></tr></table></figure>\n在文章的 front-matter 添加 top: true或数值将篇文章置顶<p class='div-border yellow'>方法2<br>\n如果使用`hexo-generator-indexed`, 在文章的`front-matter`区域里添加`sticky: 1`属性来把这篇文章置顶。数值越大，置顶的优先级越大</p><h3 id=\"脚注插件\">脚注插件<a href=\"#脚注插件\" title=\"脚注插件\"></a></h3><p>这个插件是最容易忘记的，还好看到文章里有<del>注脚</del>脚注，执行以下命令安装注脚插件：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install hexo-reference --save</span><br></pre></td></tr></table></figure><h2 id=\"new-page\">new page<a href=\"#new-page\" title=\"new page\"></a></h2><blockquote>\n<p>hexo new page xxx</p>\n</blockquote>\n<p>版本更新后建议页面重新建立，再复制 md 内容进去，否则容易报错。出现报错的页面有 music、photo，为什么新建页面一模一样的 md 复制进去就不报错了呢？</p>\n<h2 id=\"设置页面顶部图\">设置页面顶部图<a href=\"#设置页面顶部图\" title=\"设置页面顶部图\"></a></h2><p><code>photo、music、link</code> 页面均在相应 md 文件内增加 <code>top_img</code>，设置顶部图。<br>其余在主题配置文件设置即可。</p>\n<h2 id=\"不常见问题\">不常见问题<a href=\"#不常见问题\" title=\"不常见问题\"></a></h2><h3 id=\"侧栏目录消失\">侧栏目录消失<a href=\"#侧栏目录消失\" title=\"侧栏目录消失\"></a></h3><ul><li><p>卸载原有的渲染插件，安装新的插件</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm un hexo-renderer-marked --save</span><br><span class=\"line\"></span><br><span class=\"line\">npm i hexo-renderer-markdown-it --save</span><br></pre></td></tr></table></figure></li>\n</ul><h3 id=\"菜单栏消失\">菜单栏消失<a href=\"#菜单栏消失\" title=\"菜单栏消失\"></a></h3><ul><li>更新产生的问题，将<code>_data</code> 的 <code>butterfly.yml</code> 移动到其他地方，重新 hexo clean&amp;&amp;hexo s，在将主题配置文件拷贝替换 butterfl.yml 即可。</li>\n</ul><h2 id=\"底部去除驱动和主题描述，，修改-by-字母为红色爱心\">底部去除驱动和主题描述，，修改 By 字母为红色爱心<a href=\"#底部去除驱动和主题描述，，修改-by-字母为红色爱心\" title=\"底部去除驱动和主题描述，，修改 By 字母为红色爱心\"></a></h2><ul><li><p>在路径<code>D:\\blog\\themes\\Butterfly\\layout\\includes\\footer.pug</code>下，将 By 替换为以下内容</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;i style&#x3D;&quot;color:#FF6A6A&quot; class&#x3D;&quot;fa fa-heartbeat&quot;&gt;&lt;&#x2F;i&gt;</span><br></pre></td></tr></table></figure></li>\n<li><p>同一路径下，删除以下内容，便可以去除驱动和主题描述，也可以按照以下格式添加自定义内容</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">.framework-info</span><br><span class=\"line\">  span&#x3D; _p(&#39;footer.driven&#39;) + &#39; &#39;</span><br><span class=\"line\">  a(href&#x3D;&#39;https:&#x2F;&#x2F;hexo.io&#39;)</span><br><span class=\"line\">    span Hexo</span><br><span class=\"line\">  span.footer-separator |</span><br><span class=\"line\">  span&#x3D; _p(&#39;footer.theme&#39;) + &#39; &#39;</span><br><span class=\"line\">  a(href&#x3D;&#39;https:&#x2F;&#x2F;github.com&#x2F;jerryc127&#x2F;hexo-theme-butterfly&#39;)</span><br><span class=\"line\">    span Butterfly</span><br></pre></td></tr></table></figure></li>\n<li><p>利用 PS 修改 ICP 图标大小为 18x18，头像，图标，加载动画等在 <code>D:\\blog\\themes\\Butterfly\\source\\img</code> 中可替换。</p>\n</li>\n</ul>","prev":{"title":"Step 2 了解英语中关键的关键—单词","link":"posts/2f6cae91"},"next":{"title":"hexo博客添加live2d看板娘","link":"posts/2805db8d"},"plink":"https://dxsummer.gitee.io/posts/d1a5291c/","toc":[{"id":"修改主题，先装依赖","title":"修改主题，先装依赖","index":"1"},{"id":"菜单栏设置","title":"菜单栏设置","index":"2"},{"id":"文章主页描述","title":"文章主页描述","index":"3"},{"id":"代码高亮及自动换行","title":"代码高亮及自动换行","index":"4"},{"id":"主题美化","title":"主题美化","index":"5"},{"id":"自定义样式","title":"自定义样式","index":"6","children":[{"id":"版权声明","title":"版权声明","index":"6.1"}]},{"id":"rating-评分","title":"Rating 评分","index":"7"},{"id":"自动切换夜间模式时间","title":"自动切换夜间模式时间","index":"8"},{"id":"移动端优化","title":"移动端优化","index":"9","children":[{"id":"调整移动端文章字体大小","title":"调整移动端文章字体大小","index":"9.1"}]},{"id":"侧栏自定义","title":"侧栏自定义","index":"10"},{"id":"自定义字体，图标","title":"自定义字体，图标","index":"11","children":[{"id":"引用外部字体和鼠标样式","title":"引用外部字体和鼠标样式","index":"11.1"},{"id":"鼠标样式","title":"鼠标样式","index":"11.2"},{"id":"修改图标","title":"修改图标","index":"11.3"}]},{"id":"插件总结","title":"插件总结","index":"12","children":[{"id":"搜索插件","title":"搜索插件","index":"12.1"},{"id":"字数统计","title":"字数统计","index":"12.2"},{"id":"音乐电影豆瓣插件","title":"音乐电影豆瓣插件","index":"12.3"},{"id":"播放器插件","title":"播放器插件","index":"12.4"},{"id":"部署插件","title":"部署插件","index":"12.5"},{"id":"置顶插件","title":"置顶插件","index":"12.6"},{"id":"脚注插件","title":"脚注插件","index":"12.7"}]},{"id":"new-page","title":"new page","index":"13"},{"id":"设置页面顶部图","title":"设置页面顶部图","index":"14"},{"id":"不常见问题","title":"不常见问题","index":"15","children":[{"id":"侧栏目录消失","title":"侧栏目录消失","index":"15.1"},{"id":"菜单栏消失","title":"菜单栏消失","index":"15.2"}]},{"id":"底部去除驱动和主题描述，，修改-by-字母为红色爱心","title":"底部去除驱动和主题描述，，修改 By 字母为红色爱心","index":"16"}],"reward":true,"copyright":{"author":"DxSummer","link":"<a href=\"https://dxsummer.gitee.io/posts/d1a5291c/\" title=\"Butterfly主题更新总结\">https://dxsummer.gitee.io/posts/d1a5291c/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"2020年5月8日","updated":"2020年6月8日"}}