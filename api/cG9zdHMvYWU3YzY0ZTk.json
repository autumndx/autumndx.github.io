{"title":"添加全局吸底APlayer","date":"2020-05-21T09:47:34.000Z","date_formatted":{"ll":"2020年5月21日","L":"2020/05/21","MM-DD":"05-21"},"link":"posts/ae7c64e9","comments":true,"categories":["博客"],"updated":"2020-06-08T01:52:16.996Z","content":"<h2 id=\"如果你使用了butterfly做hexo主题\">如果你使用了butterfly做hexo主题<a href=\"#如果你使用了butterfly做hexo主题\" title=\"如果你使用了butterfly做hexo主题\"></a></h2><p>可以向界面加入一些装饰,但butterfly使用了pug模板,所以与其他主题可能有些区别</p>\n<hr>\n<h3 id=\"live2d看板娘能聊天能玩耍能换装等等\">live2d看板娘,能聊天,能玩耍,能换装等等<a href=\"#live2d看板娘能聊天能玩耍能换装等等\" title=\"live2d看板娘,能聊天,能玩耍,能换装等等\"></a></h3><p>这得感谢大神stevenjoezhang为原本只能显示一个模型的live2d插件添加了许多功能<br>如果对位置什么的没有很大的要求的话,直接打开<code>themes\\Butterfly\\layout\\includes\\head.pug</code><br>结尾加入一行</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">script(src&#x3D;&#39;https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;gh&#x2F;stevenjoezhang&#x2F;live2d-widget&#x2F;autoload.js&#39;)</span><br></pre></td></tr></table></figure><p>就行了</p>\n<p>当然你会发现直接这样加的话,阅读Page时,打开TOC的话,看板娘会被遮住<br>所以建议调整看板娘位置<br>前往<a href=\"https://github.com/stevenjoezhang/live2d-widget\" target=\"_blank\">live2d-widget</a> 下载</p>\n<p>解压后将<code>autoload.js</code>第二行的位置改成你挂载在服务器上的<code>autoload.js</code>所在文件夹的绝对路径<br>比如<code>autoload.js</code>在科大ftp的<code>/public_html/js/live2d-widget/</code>目录下,这里就要改成<code>http://home.ustc.edu.cn/~username/js/live2d-widget/ (科大ftp的根目录是/public_html/)</code><br>然后修改<code>waifu.css</code>里面的 <code>#waifu</code>下的 <code>left: 0;</code>将这一行改成<code>right: 70px;</code></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#waifu &#123;</span><br><span class=\"line\">\tbottom: -1000px;</span><br><span class=\"line\">\tleft: 0;           &#x2F;&#x2F;这一行改成right: 70px;</span><br><span class=\"line\">\tline-height: 0;</span><br><span class=\"line\">\tposition: fixed;</span><br><span class=\"line\">\ttransform: translateY(3px);</span><br><span class=\"line\">\ttransition: transform .3s ease-in-out, bottom 3s ease-in-out;</span><br><span class=\"line\">\tz-index: 1;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure><p>将head.pug添加的src的autoload.js的路径改成你上传的路径就行了</p>\n<hr>\n<h3 id=\"全局吸底aplayer\">全局吸底APlayer<a href=\"#全局吸底aplayer\" title=\"全局吸底APlayer\"></a></h3><ol><li>打开<code>themes\\Butterfly\\layout\\includes\\head.pug</code><br>结尾加一句</li>\n</ol><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">include .&#x2F;third-party&#x2F;aplayer.pug</span><br></pre></td></tr></table></figure><p>然后在<code>themes\\Butterfly\\layout\\includes\\third-party\\</code>里面新建一个文件叫 <code>aplayer.pug</code> ,内容如下</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">if theme.aplayer &amp;&amp; theme.aplayer.enable</span><br><span class=\"line\">\t.aplayer(data-id&#x3D;theme.aplayer.id data-server&#x3D;theme.aplayer.server data-type&#x3D;theme.aplayer.type data-fixed&#x3D;theme.aplayer.fixed data-mini&#x3D;theme.aplayer.mini data-listFolded&#x3D;theme.aplayer.listFolded data-order&#x3D;theme.aplayer.order data-preload&#x3D;theme.aplayer.preload)</span><br><span class=\"line\">\teach item in theme.aplayer.css</span><br><span class=\"line\">\t\tlink(rel&#x3D;&#39;stylesheet&#39;, href&#x3D;item)</span><br><span class=\"line\">\teach item in theme.aplayer.js</span><br><span class=\"line\">\t\tscript(src&#x3D;item)</span><br></pre></td></tr></table></figure><ol><li>然后打开<code>butterfly.yml</code>(如果你没有启用的话,就打开<code>themes\\Butterfly_config.yml</code>) 加入以下内容</li>\n</ol><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aplayer:</span><br><span class=\"line\">  enable: true</span><br><span class=\"line\">  js:</span><br><span class=\"line\">    - https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;aplayer&#x2F;1.10.1&#x2F;APlayer.min.js</span><br><span class=\"line\">    - https:&#x2F;&#x2F;cdn.jsdelivr.net&#x2F;npm&#x2F;meting@1.2.0&#x2F;dist&#x2F;Meting.min.js</span><br><span class=\"line\">  css:</span><br><span class=\"line\">    - https:&#x2F;&#x2F;cdn.bootcss.com&#x2F;aplayer&#x2F;1.10.1&#x2F;APlayer.min.css</span><br><span class=\"line\">  id: 2661264578</span><br><span class=\"line\">  server: netease </span><br><span class=\"line\">  type: playlist</span><br><span class=\"line\">  fixed: &#39;true&#39;</span><br><span class=\"line\">  order: random</span><br><span class=\"line\">  preload: none</span><br><span class=\"line\">  listFolded: &#39;false&#39;</span><br></pre></td></tr></table></figure><p>然后重新生成就可以看到 aplayer了,这里的id是我的网易云歌单号,可以修改成别的.<br>但是浏览Page时会发现 aplayer会和 TOC(怎么又是它) 的切换按钮重合打开<code>themes\\Butterfly\\source\\css\\_global\\index.styl</code><br>修改第61行</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#toggle-sidebar</span><br><span class=\"line\">  position: fixed</span><br><span class=\"line\">  bottom: $sidebar-icon-top           &#x2F;&#x2F;这里改成bottom: 70px</span><br><span class=\"line\">  left: $sidebar-icon-left</span><br><span class=\"line\">  z-index: 100</span><br><span class=\"line\">  font-size: $sidebar-icon-size</span><br><span class=\"line\">  &#x2F;&#x2F; opacity: 0</span><br><span class=\"line\">  cursor: pointer</span><br><span class=\"line\">  transition: all .2s</span><br></pre></td></tr></table></figure><p><img src=\"https://img-blog.csdnimg.cn/2020051911514933.png\" class=\"φcy\" alt=\"img\"></p>\n","prev":{"title":"note和小tag标签","link":"posts/5d6d7b2d"},"next":{"title":"vscode下级文件夹与上级文件夹并列，文件夹折叠问题解决","link":"posts/98214d27"},"plink":"https://dxsummer.gitee.io/posts/ae7c64e9/","toc":[{"id":"如果你使用了butterfly做hexo主题","title":"如果你使用了butterfly做hexo主题","index":"1","children":[{"id":"live2d看板娘能聊天能玩耍能换装等等","title":"live2d看板娘,能聊天,能玩耍,能换装等等","index":"1.1"},{"id":"全局吸底aplayer","title":"全局吸底APlayer","index":"1.2"}]}],"reward":true,"copyright":{"author":"DxSummer","link":"<a href=\"https://dxsummer.gitee.io/posts/ae7c64e9/\" title=\"添加全局吸底APlayer\">https://dxsummer.gitee.io/posts/ae7c64e9/</a>","license":"Attribution-NonCommercial-NoDerivatives 4.0 International (<a href=\\\"https://creativecommons.org/licenses/by-nc-sa/4.0/\\\" rel=\\\"external nofollow\\\" target=\\\"_blank\\\">CC BY-NC-ND 4.0</a>)","published":"2020年5月21日","updated":"2020年6月8日"}}